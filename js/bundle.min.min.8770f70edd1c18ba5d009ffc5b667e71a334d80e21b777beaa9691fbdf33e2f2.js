document.addEventListener('DOMContentLoaded',function(c){var a,b;document.querySelector('body').classList.remove('no-js'),document.querySelector('body').classList.add('js'),a=document.querySelector('#js-topnav-toggle'),b=document.querySelector('#js-topnav-menu'),a&&b&&(b.classList.add('is-hidden'),a.classList.add('is-closed'),a.addEventListener('click',function(c){b.classList.toggle('is-hidden'),a.classList.toggle('is-closed')})),tabnav('.js-report','#js-report-nav a'),tabnav('.js-incomes','#js-incomes-nav a'),topnav()});function topnav(){var b=0,c=8,d=85,a;window.addEventListener('scroll',function(b){a=!0}),setInterval(function(){a&&(e(),a=!1)},300);function e(){var a=window.scrollY;if(Math.abs(b-a)<=c)return;a>b&&a>d?document.querySelector('.l__topbar').classList.add('is-up'):a-window.innerHeight<window.outerHeight&&document.querySelector('.l__topbar').classList.remove('is-up'),b=a}}function tabnav(d,b){var a=document.querySelectorAll(d),c=document.querySelectorAll(b);a&&c&&(a.forEach(function(a,b){b!==0&&a.classList.add('is-hidden')}),c.forEach(function(c,d){d===0&&c.classList.add('active'),c.addEventListener('click',function(c){c.preventDefault(),a.forEach(function(a,b){a.classList.add('is-hidden')}),document.querySelector(b+".active").classList.remove('active'),c.target.classList.add('active');var d=c.target.attributes.href.value;document.querySelector(d).classList.remove('is-hidden')})}))}window.idx,window.siteSearchData,document.addEventListener('DOMContentLoaded',function(c){var a=new XMLHttpRequest;a.open('GET',"/js/site-search-index.json"),a.onload=function(){if(this.status>=200&&this.status<400){var a=JSON.parse(this.response);window.idx=lunr.Index.load(a.idx),window.siteSearchData=a.store,console.log("Search index loaded, good to go!"),b()}},a.onerror=function(){console.log("Error loading index")},a.send();function b(){var a=document.querySelector('.js-search-form'),f=document.getElementById('js-search-button'),b=document.getElementById('js-search-input'),g=document.getElementById('js-close-search'),c=document.querySelector('#js-search-results'),d=document.querySelector('#js-search-result-count');if(a&&f&&b&&g&&c){function e(){b.value='',c.innerHTML='',d.innerHTML=''}function h(){b.focus(),window.scroll(0,0)}g.onclick=function(){a.classList.contains('open')&&(a.classList.remove('open'),e())},window.addEventListener('keyup',function(c){var d=c.keyCode;d==27&&(a.classList.contains('open')?(a.classList.remove('open'),e()):(a.classList.add('open'),h(),b.value.length>0&&e()))},!0),f.addEventListener('click',function(d){var c,b;a.classList.toggle('open'),e(),h(),c=document.querySelector('#js-topnav-toggle'),b=document.querySelector('#js-topnav-menu'),c&&b&&(b.classList.contains('is-hidden')||(b.classList.toggle('is-hidden'),c.classList.toggle('is-closed')))},!0);function i(e){var a=b.value,f;a.length===0&&(c.innerHTML='',d.innerHTML=''),e.keyCode!==9&&a.length>2&&(f=window.idx.search(a),j(f))}b.addEventListener('keyup',i,!0);function j(a){var f=b.value,e;a.length?(c.innerHTML='',d.innerHTML=a.length+' Ergebnisse',e='',a.forEach(function(d){var a=window.siteSearchData[d.ref],b='<li class="l__search__result">',c,f;b+='<a href="'+a.url+'">',a.section&&(c=[a.section.split('')[0].toUpperCase(),a.section.split('').splice(1).join('')].join(''),b+='<p>In '+c+'</p>'),b+='<h3 class="l__search__result__header">'+a.title+'</h3>',c&&c==="Projekte"&&(b+='<img src="/files/'+a.img+'" width="265" height="179" class="l__search__result__image">'),b+='<p>'+a.content.slice(0,35).join(" ")+' [...]</p></a>',b+='</li>',e+=b}),c.innerHTML+=e):(d.innerHTML='',c.innerHTML=`<li class=\"l__search__result none\">
Keine Ergebnisse f√ºr <span class=\"l__search__input-value\">${f}</span> gefunden.<br/>
Bitte kontrolliere Rechtschreibung und Worttrennung.</li>`)}}else console.log("Missing form elements")}})