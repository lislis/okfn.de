window.blogSearchData,window.bidx,document.addEventListener('DOMContentLoaded',function(c){var a=new XMLHttpRequest;a.open('GET',"/js/blog-search-index.json"),a.onload=function(){if(this.status>=200&&this.status<400){var a=JSON.parse(this.response);window.bidx=lunr.Index.load(a.idx),window.blogSearchData=a.store,console.log("Blog search index loaded, good to go!"),b()}},a.onerror=function(){console.log("Error loading index")},a.send();function b(){var a=document.getElementById('js-blog-search-overlay'),b=document.getElementById('js-blog-search-input'),f=document.getElementById('js-blog-search-clear'),c=document.getElementById('js-blog-search-results'),d=document.getElementById('js-search-term'),e=document.getElementById('js-blog-index');if(a&&b){b.value='',f.onclick=function(){a.classList.contains('open')&&(a.classList.remove('open'),e.classList.remove('hidden'),d.innerHtml='')};function g(g){var f=b.value,h;f.length===0&&(c.innerHTML='',d.innerHTML='',a.classList.remove('open'),e.classList.remove('hidden')),g.keyCode!==9&&f.length>2&&(d.innerHTML=f,a.classList.add('open'),e.classList.add('hidden'),h=window.bidx.search(f),i(h))}b.addEventListener('keyup',g,!0);function h(b){var a;return a='<li><h2 class="h4">Keine Ergebnisse f√ºr "'+b+'"</h2>',a+='<p class="h4">Versuche einen anderen Suchbegriff</p></li>',a}function i(d){var e=b.value,a;d.length?(c.innerHTML='',a='',d.forEach(function(c){var b=window.blogSearchData[c.ref],d=new Date(b.date.replace(' +0000 UTC','Z')).toLocaleDateString('de-DE');a+='<li class="c__post--item">',a+='<a href="'+b.url+'" class="row no-gutters">',a+='<h2 class="c__post__title h4 col col-12 col-sm-10">'+b.title+'</h2>',a+='<p class="c__post__date h4 col-12 col-sm-2">'+d+'</p>',a+='</a></li>'}),c.innerHTML=a):c.innerHTML=h(e)}}}})